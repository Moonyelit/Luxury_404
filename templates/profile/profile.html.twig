{% extends 'base.html.twig' %}


{% block content %}
	<head>
		<title>
			{% block title %}
				Luxury Services recruitment & services
			{% endblock %}
		</title>
	</head>
{% endblock %}

{% block AssetsScripts %}
	<link href="https://assets-luxury.projets.garage404.com/css/materialize.css" rel="stylesheet">
	<link href="https://assets-luxury.projets.garage404.com/css/bootstrap.css" rel="stylesheet">
	<link href="https://assets-luxury.projets.garage404.com/css/style.css" rel="stylesheet">
	<link href="https://assets-luxury.projets.garage404.com/css/custom.css" rel="stylesheet">
	<link
	href="https://assets-luxury.projets.garage404.com/css/revolution-settings.css" rel="stylesheet">
	{# <link href="https://assets-luxury.projets.garage404.com/css/revolution-layers.css" rel="stylesheet"> #}
	<link href="https://assets-luxury.projets.garage404.com/css/revolution-navigation.css" rel="stylesheet">

	<script src="https://assets-luxury.projets.garage404.com/js/modernizr.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/jquery.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/animated-headline.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/bootstrap-tabcollapse.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/coundown-timer.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/equalheight.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/menuzord.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/smooth-menu.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/imagesloaded.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/owl-carousel.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/wow.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/scripts.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/bootstrap.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/materialize.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/jquery-easing.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/jquery-countTo.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/jquery-sticky.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/jquery-stellar.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/jquery-inview.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/jquery-shuffle.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/jquery-magnific-popup.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/jquery-flexslider.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/revolution-tools.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/revolution-scripts.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/revolution-ext-video.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/revolution-ext-slideanims.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/revolution-ext-actions.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/revolution-ext-layeranimation.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/revolution-ext-kenburn.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/revolution-ext-navigation.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/revolution-ext-migration.js"></script>
	<script src="https://assets-luxury.projets.garage404.com/js/revolution-ext-parallax.js"></script>
{% endblock %}

{% block AnotherStyle %}
	<style>
		select {
			display: block !important;
		}

		.existing-file {
			position: relative;
		}

		.existing-file img {
			display: none;
			position: absolute;
			top: -10rem;
			max-width: 200px;
			max-height: 200px;
			border: 1px solid #ccc;
			background: #fff;
			padding: 5px;
		}
	</style>
{% endblock %}

{% block main %}
<div class="base">
    <!-- Page -->
    <div class="page">
        <!-- Page Header -->
        <section class="page-title page-title-bg fixed-bg overlay dark-5 padding-top-160 padding-bottom-80">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <h2 class="white-text">Your profile</h2>
                        <span class="white-text">Personal & Professional informations</span>
                        <ol class="breadcrumb">
                            <li><a href="{{ path('app_home') }}">Home</a></li>
                            <li class="active">Profile</li>
                        </ol>
                    </div>
                </div>
            </div>
        </section>

        <!-- Indicateur de complétion -->
        <section class="gray-bg">
			<div class="container">
       			 <div class="row">
					<div class="score-container">
						<h4>Profile completed at:</h4>
						<div class="c100 p{{ completion }} small complete">
							<span>{{ completion }}%</span>
							<div class="slice">
								<div class="bar"></div>
								<div class="fill"></div>
							</div>
						</div>
						{% if completion == 100 %}
							<h4>
        						<img src="assets/img/congratuations.gif" style="height: 80px; width: 201px;">
								Hooray ! Your profile is complete.
							</h4>
						{% endif %}
					</div>
					<div class="clearfix"></div>
        		</div>
    		</div>
        </section>

        {# ========================= #
           #  Formulaire Candidate    #
           # ========================= #}
        {{ form_start(formCandidate, {
            'attr': {
                'id': 'candidateForm',
                'role': 'form',
                'method': 'post',
                'autocomplete': 'off',
                'data-parsley-validate': '',
                'enctype': 'multipart/form-data'
            }
        }) }}

        <section class="section-padding">
            <div class="container">
                <div class="row">
                    <h3 class="text-extrabold">Your personal informations</h3>

                    <div class="col-xs-12 col-sm-6 col-md-4">
                        <div class="input-field">
                            {{ form_widget(formCandidate.gender) }}
                            {{ form_label(formCandidate.gender) }}
                            {{ form_errors(formCandidate.gender) }}
                        </div>
                    </div>

                    <div class="clearfix visible-sm"></div>

                    <div class="col-xs-12 col-sm-6 col-md-4">
                        <div class="input-field">
                            <label for="first_name">First name</label>
                            {{ form_widget(formCandidate.firstName) }}
                            {{ form_label(formCandidate.firstName) }}
                            {{ form_errors(formCandidate.firstName) }}
                        </div>
                    </div>

                    <div class="col-xs-12 col-sm-6 col-md-4">
                        <div class="input-field">
                            {{ form_widget(formCandidate.lastName) }}
                            {{ form_label(formCandidate.lastName) }}
                            {{ form_errors(formCandidate.lastName) }}
                        </div>
                    </div>

                    <div class="col-xs-12 col-sm-6 col-md-4">
                        <div class="input-field">
                            {{ form_widget(formCandidate.currentLocation) }}
                            {{ form_label(formCandidate.currentLocation) }}
                            {{ form_errors(formCandidate.currentLocation) }}
                        </div>
                    </div>

                    <div class="col-xs-12 col-sm-8">
                        <div class="input-field">
                            {{ form_widget(formCandidate.address) }}
                            {{ form_label(formCandidate.address) }}
                            {{ form_errors(formCandidate.address) }}
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-12 col-sm-6 col-md-4 indexhover">
                        <div class="file-field input-field" style="margin-top: 32px;">
                            <div class="btn btn-lg primary waves-effect waves-light">
                                <span>
                                    <i class="material-icons">insert_photo</i>
                                    Photo
                                </span>
                                {{ form_widget(formCandidate.profilePictureFile) }}
                                {{ form_errors(formCandidate.profilePictureFile) }}
                            </div>
                            {% if candidate.profilePicture %}
                                <img src="{{ asset('uploads/profile_pictures/' ~ candidate.profilePicture) }}" alt="" style="max-width: 200px; max-height: 200px;">
                                <div class="existing-file">
                                    <a href="{{ asset('uploads/profile_pictures/' ~ candidate.profilePicture) }}" target="_blank">
                                        <i class="material-icons">&#xE24D;</i> profil_picture.jpg
                                    </a>
                                    <img src="{{ asset('uploads/profile_pictures/' ~ candidate.profilePicture) }}" alt="Profile Picture">
                                </div>
                            {% endif %}
                            <div class="file-path-wrapper">
                                <input class="file-path validate" type="text" placeholder="Upload your ID photo" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="col-xs-12 col-sm-6 col-md-8">
                        <div class="row">
                            <div class="col-xs-12 col-sm-6">
                                <div class="input-field">
                                    {{ form_widget(formCandidate.country) }}
                                    {{ form_label(formCandidate.country) }}
                                    {{ form_errors(formCandidate.country) }}
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <div class="input-field">
                                    {{ form_widget(formCandidate.nationality) }}
                                    {{ form_label(formCandidate.nationality) }}
                                    {{ form_errors(formCandidate.nationality) }}
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <div class="input-field">
                                    {{ form_widget(formCandidate.birthdate) }}
                                    {{ form_label(formCandidate.birthdate) }}
                                    {{ form_errors(formCandidate.birthdate) }}
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <div class="input-field">
                                    {{ form_widget(formCandidate.birthplace) }}
                                    {{ form_label(formCandidate.birthplace) }}
                                    {{ form_errors(formCandidate.birthplace) }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-40">
                    <h3 class="text-extrabold">Your professional profile</h3>
                    <div class="col-xs-12 col-sm-6">
                        <div class="card card-panel passport">
                            <div class="file-field input-field">
                                <div class="btn btn-lg primary waves-effect waves-light">
                                    <span>
                                        <i class="material-icons">&#xE24D;</i>
                                        Passport
                                    </span>
                                    {{ form_widget(formCandidate.passportFile) }}
                                    {{ form_errors(formCandidate.passportFile) }}
                                </div>
                                {% if candidate.passport %}
                                    <div class="existing-file">
                                        <a href="{{ asset('uploads/passports/' ~ candidate.passport) }}" target="_blank">
                                            <i class="material-icons">&#xE24D;</i> passeport.jpg
                                        </a>
                                    </div>
                                {% endif %}
                                <div class="file-path-wrapper">
                                    <input class="file-path validate" type="text" placeholder="Upload your passport" readonly>
                                </div>
                            </div>

                            <div class="file-field input-field">
                                <div class="btn btn-lg primary waves-effect waves-light">
                                    <span>
                                        <i class="material-icons">&#xE24D;</i>
                                        CV
                                    </span>
                                    {{ form_widget(formCandidate.CVFile) }}
                                    {{ form_errors(formCandidate.CVFile) }}
                                </div>
                                {% if candidate.CV %}
                                    <div class="existing-file">
                                        <a href="{{ asset('uploads/CVS/' ~ candidate.CV) }}" target="_blank">
                                            <i class="material-icons">&#xE24D;</i> CV.pdf
                                        </a>
                                    </div>
                                {% endif %}
                                <div class="file-path-wrapper">
                                    <input class="file-path validate" type="text" placeholder="Upload your Curriculum Vitae" readonly>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-xs-12 col-sm-6">
                        <div class="col-xs-12 col-sm-12">
                            <div class="input-field" style="margin-top: 5px;">
                                {{ form_widget(formCandidate.jobcategory) }}
                                {{ form_label(formCandidate.jobcategory) }}
                                {{ form_errors(formCandidate.jobcategory) }}
                            </div>
                        </div>

                        <div class="col-xs-12 col-sm-12">
                            <div class="input-field">
                                {{ form_widget(formCandidate.experience) }}
                                {{ form_label(formCandidate.experience) }}
                                {{ form_errors(formCandidate.experience) }}
                            </div>
                        </div>
                    </div>

                    <div class="col-xs-12 col-sm-12">
                        <div class="input-field">
                            {{ form_widget(formCandidate.description) }}
                            {{ form_label(formCandidate.description) }}
                            {{ form_errors(formCandidate.description) }}
                        </div>
                    </div>
                </div>

                <div class="row">
                    <button type="submit" class="btn btn-block btn-lg gradient secondary waves-effect waves-light">
                        Update Profile
                    </button>
                </div>
            </div>
        </section>

        {{ form_end(formCandidate) }}

        {# ============================= #
           #  Formulaire Update Password   #
           # ============================= #}
        {{ form_start(formPassword, {'action': path('app_profile_update_password')}) }}
        <section class="section-padding gray-bg">
            <div class="container">
                <div class="row">
                    <h3 class="text-extrabold">Your K-Yachting account</h3>
                    <div class="col-xs-12 col-sm-4">
                        <div class="input-field">
                            {{ form_widget(formPassword.email) }}
                            {{ form_label(formPassword.email) }}
                            {{ form_errors(formPassword.email) }}
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-4">
                        <div class="input-field">
                            {{ form_widget(formPassword.password) }}
                            {{ form_label(formPassword.password) }}
                            {{ form_errors(formPassword.password) }}
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-4">
                        <div class="input-field">
                            {{ form_widget(formPassword.password_repeat) }}
                            {{ form_label(formPassword.password_repeat) }}
                            {{ form_errors(formPassword.password_repeat) }}
                        </div>
                    </div>
                    <div class="col-xs-12 mt-40 mb-80 delete-account">
                        <a href="#!" onclick="return prompt('Please Type \'Delete my account\' to delete your account:') == 'Delete my account'" class="btn btn-block btn-lg waves-effect waves-light">
                            <i class="material-icons">&#xE872;</i>Delete my account
                        </a>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-sm-6 col-md-4">
                            <a href="{{ path('app_home') }}" class="btn btn-block btn-lg border primary waves-effect waves-light">
                                <i class="fa fa-long-arrow-left"></i> Back home
                            </a>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-4 col-md-offset-4">
                            <button type="submit" class="btn btn-block btn-lg gradient secondary waves-effect waves-light">
                                <span><strong>UPDATE</strong> PASSWORD</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        {{ form_end(formPassword) }}

    </div>
</div>
{% endblock %}


{% block AssetsScriptsFIN %}

	<script type="text/javascript">
		// Supprime l'élément de préchargement une fois que l'application est prête
onAppReady(function () {
$('.preload').remove();
});
	</script>


	{{ parent() }}
	<!-- Inclut les styles de jQuery UI -->
	<link
	rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
	<!-- Inclut la bibliothèque jQuery UI -->
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<script>
		// Initialise le sélecteur de date avec le format de date "dd/mm/yy"
$(function () {
$(".datepicker").datepicker({dateFormat: "dd/mm/yy"});
});
	</script>


	<script>
		// Ajoute une classe de progression et met à jour le texte du pourcentage une fois le DOM chargé
document.addEventListener("DOMContentLoaded", function () {
let completion = {{ completion }};
let progressBar = document.querySelector(".c100");
let percentageText = document.querySelector(".c100 span");

progressBar.classList.add("p" + completion);
percentageText.innerText = completion + "%";
});
	</script>

{% endblock %}
